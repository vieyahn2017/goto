## Java Volatile关键字的使用

这个关键字我一直没有用过，也很少见到。这段时间开始学习多线程并发方面的知识，方才去接触。

根据Java 官方的定义，Volatile关键字的说明如下：  

 
> java编程语言允许线程访问共享变量，为了确保共享变量能被准确和一致的更新，线程应该确保通过排他锁单独获得这个变量。Java语言提供了volatile，在某些情况下比锁更加方便。如果一个字段被声明成volatile，java线程内存模型确保所有线程看到这个变量的值是一致的。

咋看之下不是很懂，还好看到了Infoq.com的这篇文章[《聊聊并发（一）——深入分析Volatile的实现原理》](http://www.infoq.com/cn/articles/ftf-java-volatile) 这篇文章从非常底层的层面上对着干Volatile的实现过程进行了说明，看完之后我大概明白了，以我这种小白的理解程度上来看，就是一句话： 
> 被Volatile修饰的变量，其值的改变是被使用共享该变量的线程所知道的。就是说，当A线程改变了变量a，共享a的线程B也会知道，然后B就不会去引用保存在内存或者CPU缓存里比较旧的版本了。

如果你是个火影迷的话，Volatile说白了就是佩恩六道的轮回眼，每个使用了有Volatile修饰的共享变量的线程，都有了轮回眼，大家对这个变量的状态改变是共通的。

关于Volatile关键字的使用，这篇文章应该是最经典的了，[《Java 理论与实践: 正确使用 Volatile 变量》](http://www.ibm.com/developerworks/cn/java/j-jtp06197.html)，但不知道是不是翻译的原因，读来很不顺畅，让我读得不甚理解。估计是因为我功力还不够吧。

这篇文章首先说到了Volatile关键字使用的危险问题，然后说明其和synchronized关键字的使用区别（主要是性能上更优，安全性上则更差）。最后说明了什么场景下可以使用Volatile关键字。

该文列举了使用Volatile关键字的五种场景，或者说模式，总结得还是比较好的。 